/*! dominate v0.1.0 | https://github.com/ryanmorr/dominate */
{"version":3,"sources":["dominate.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","global","factory","define","amd","mod","dominate","this","copyAttributes","el","target","attr","attrs","attributes","len","setAttribute","name","value","copyScript","doc","script","createElement","async","text","textContent","parseDocument","markup","type","parser","DOMParser","newDoc","parseFromString","removeChild","documentElement","parseHTML","tag","html","innerHTML","parse","supportsDOMParserHTML","_el","xml","_el2","firstChild","lastChild","wrap","wrapMap","_default","depth","childNodes","frag","createDocumentFragment","appendChild","_ref","arguments","undefined","_ref$context","context","document","_ref$type","_ref$scripts","scripts","toLowerCase","match","tagNameRe","exec","createTextNode","trim","parent","elements","querySelectorAll","parentNode","replaceChild","Object","defineProperty","thead","col","tr","td","tbody","tfoot","colgroup","caption","th","split","forEach"],"mappings":"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","file":"dominate.js","sourcesContent":["/*! dominate v0.1.0 | https://github.com/ryanmorr/dominate */\n(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (global, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(['module', 'exports'], factory);\n    } else if (typeof exports !== \"undefined\") {\n        factory(module, exports);\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod, mod.exports);\n        global.dominate = mod.exports;\n    }\n})(this, function (module, exports) {\n    'use strict';\n\n    Object.defineProperty(exports, \"__esModule\", {\n        value: true\n    });\n    exports.default = dominate;\n    // Regex to extract the tag name\n    var tagNameRe = /<([\\w-]+)/;\n\n    // Determine if `DOMParser` supports 'text/html'\n    var supportsDOMParserHTML = function () {\n        try {\n            if (new DOMParser().parseFromString('', 'text/html')) {\n                return true;\n            }\n        } catch (e) {\n            return false;\n        }\n    }();\n\n    // Prevent the parser from ignoring certain\n    // elements by wrapping them with the necessary\n    // parent elements to appease XHTML compliance\n    // (courtesy of jQuery: https://github.com/jquery/jquery/blob/master/src/manipulation/wrapMap.js)\n    var wrapMap = {\n        thead: [1, '<table>', '</table>'],\n        col: [2, '<table><colgroup>', '</colgroup></table>'],\n        tr: [2, '<table><tbody>', '</tbody></table>'],\n        td: [3, '<table><tbody><tr>', '</tr></tbody></table>'],\n        _default: [0, '', '']\n    };\n    wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\n    wrapMap.th = wrapMap.td;\n\n    // Support SVG elements\n    'circle ellipse g image line path polygon polyline rect text'.split(' ').forEach(function (tag) {\n        wrapMap[tag] = [1, '<svg xmlns=\"http://www.w3.org/2000/svg\">', '</svg>'];\n    });\n\n    /**\r\n     * Copy the attributes from one node to another\r\n     *\r\n     * @param {Element} el\r\n     * @param {Element} target\r\n     * @return {Element}\r\n     * @api private\r\n     */\n    function copyAttributes(el, target) {\n        var attrs = target.attributes;\n        for (var i = 0, len = attrs.length, attr; i < len; i++) {\n            attr = attrs[i];\n            el.setAttribute(attr.name, attr.value);\n        }\n        return el;\n    }\n\n    /**\r\n     * Create a script element that will execute\r\n     *\r\n     * @param {Document} doc\r\n     * @param {Element} el\r\n     * @return {Element}\r\n     * @api private\r\n     */\n    function copyScript(doc, el) {\n        var script = doc.createElement('script');\n        script.async = true;\n        script.text = el.textContent;\n        return copyAttributes(script, el);\n    }\n\n    /**\r\n     * Parse HTML and XML documents\r\n     *\r\n     * @param {String} markup\r\n     * @param {String} type\r\n     * @return {Element}\r\n     * @api private\r\n     */\n    function parseDocument(markup, type) {\n        var parser = new DOMParser();\n        var newDoc = parser.parseFromString(markup, type);\n        return newDoc.removeChild(newDoc.documentElement);\n    }\n\n    /**\r\n     * Parse HTML string using the proper parent\r\n     * element\r\n     *\r\n     * @param {Document} doc\r\n     * @param {String} tag\r\n     * @param {String} html\r\n     * @return {Element}\r\n     * @api private\r\n     */\n    function parseHTML(doc, tag, html) {\n        var el = doc.createElement(tag);\n        el.innerHTML = html;\n        return el;\n    }\n\n    /**\r\n     * Parse an HMTL string into a DOM node\r\n     *\r\n     * @param {Document} doc\r\n     * @param {String} tag\r\n     * @param {String} html\r\n     * @return {Element|DocumentFragment}\r\n     * @api private\r\n     */\n    function parse(doc, tag, html) {\n        // Support <html> elements\n        if (tag === 'html') {\n            if (supportsDOMParserHTML) {\n                return parseDocument(html, 'text/html');\n            }\n            // Attributes of the <html> element do not get\n            // parsed using `innerHTML` here, so we parse it\n            // as XML and then copy the attributes\n            var _el = parseHTML(doc, 'html', html);\n            var xml = parseDocument(html, 'text/xml');\n            return copyAttributes(_el, xml);\n        }\n        // Support <body> and <head> elements\n        if (tag === 'head' || tag === 'body') {\n            var _el2 = parseHTML(doc, 'html', html);\n            return _el2.removeChild(tag === 'head' ? _el2.firstChild : _el2.lastChild);\n        }\n        // Wrap the element in the appropriate container\n        var wrap = wrapMap[tag] || wrapMap._default;\n        // Parse HTML string\n        var el = parseHTML(doc, 'div', wrap[1] + html + wrap[2]);\n        // Descend through wrappers to get the right element\n        var depth = wrap[0];\n        while (depth--) {\n            el = el.lastChild;\n        }\n        // Support executable <script> elements\n        if (tag === 'script') {\n            return copyScript(doc, el.firstChild);\n        }\n        // Single element\n        if (el.childNodes.length === 1) {\n            return el.removeChild(el.firstChild);\n        }\n        // Use a document fragment for multiple elements\n        var frag = doc.createDocumentFragment();\n        while (el.firstChild) {\n            frag.appendChild(el.firstChild);\n        }\n        return frag;\n    }\n\n    /**\r\n     * Convert a string into a DOM node\r\n     *\r\n     * @param {String} html\r\n     * @param {Object} options\r\n     * @param {Document} options.context\r\n     * @param {String} options.type\r\n     * @param {Boolean} options.scripts\r\n     * @return {Element|TextNode|DocumentFragment}\r\n     * @api public\r\n     */\n    function dominate(html) {\n        var _ref = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        var _ref$context = _ref.context;\n        var context = _ref$context === undefined ? document : _ref$context;\n        var _ref$type = _ref.type;\n        var type = _ref$type === undefined ? 'html' : _ref$type;\n        var _ref$scripts = _ref.scripts;\n        var scripts = _ref$scripts === undefined ? true : _ref$scripts;\n\n        // Return an XML element if the type param is 'xml'\n        if (type.toLowerCase() === 'xml') {\n            return parseDocument(html, 'text/xml');\n        }\n        // Parse the HTML string for a tag name\n        var match = tagNameRe.exec(html);\n        // If no tag name exists, treat it as plain text\n        if (!match) {\n            return context.createTextNode(html);\n        }\n        // Get the tag name\n        var tag = match[1].toLowerCase();\n        // Parse the HTML string into a DOM node\n        var el = parse(context, tag, html.trim());\n        // If it's a script element, return it as it\n        // should always execute regardless of the\n        // `execScripts` param\n        if (tag === 'script') {\n            return el;\n        }\n        // If `execScripts` is true, replace all script\n        // elements with a new script element to enable\n        // execution, otherwise remove the script elements\n        var elements = el.querySelectorAll('script');\n        for (var i = 0, len = elements.length, script, parent; i < len; i++) {\n            script = elements[i];\n            parent = script.parentNode;\n            if (scripts === false) {\n                parent.removeChild(script);\n            } else {\n                parent.replaceChild(copyScript(context, script), script);\n            }\n        }\n        return el;\n    }\n    module.exports = exports['default'];\n});\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGRvbWluYXRlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O3NCQzhKd0IsUTs7QUE3SnhCLFFBQU0sWUFBWSxXQUFsQjs7O0FBR0EsUUFBTSx3QkFBeUIsWUFBTTtBQUNqQyxZQUFJO0FBQ0EsZ0JBQUssSUFBSSxTQUFKLEVBQUQsQ0FBa0IsZUFBbEIsQ0FBa0MsRUFBbEMsRUFBc0MsV0FBdEMsQ0FBSixFQUF3RDtBQUNwRCx1QkFBTyxJQUFQO0FBQ0g7QUFDSixTQUpELENBSUUsT0FBTyxDQUFQLEVBQVU7QUFDUixtQkFBTyxLQUFQO0FBQ0g7QUFDSixLQVI2QixFQUE5Qjs7Ozs7O0FBY0EsUUFBTSxVQUFVO0FBQ1osZUFBTyxDQUFDLENBQUQsRUFBSSxTQUFKLEVBQWUsVUFBZixDQURLO0FBRVosYUFBSyxDQUFDLENBQUQsRUFBSSxtQkFBSixFQUF5QixxQkFBekIsQ0FGTztBQUdaLFlBQUksQ0FBQyxDQUFELEVBQUksZ0JBQUosRUFBc0Isa0JBQXRCLENBSFE7QUFJWixZQUFJLENBQUMsQ0FBRCxFQUFJLG9CQUFKLEVBQTBCLHVCQUExQixDQUpRO0FBS1osa0JBQVUsQ0FBQyxDQUFELEVBQUksRUFBSixFQUFRLEVBQVI7QUFMRSxLQUFoQjtBQU9BLFlBQVEsS0FBUixHQUFnQixRQUFRLEtBQVIsR0FBZ0IsUUFBUSxRQUFSLEdBQW1CLFFBQVEsT0FBUixHQUFrQixRQUFRLEtBQTdFO0FBQ0EsWUFBUSxFQUFSLEdBQWEsUUFBUSxFQUFyQjs7O0FBR0Esa0VBQThELEtBQTlELENBQW9FLEdBQXBFLEVBQXlFLE9BQXpFLENBQWlGLFVBQUMsR0FBRCxFQUFTO0FBQ3RGLGdCQUFRLEdBQVIsSUFBZSxDQUFDLENBQUQsRUFBSSwwQ0FBSixFQUFnRCxRQUFoRCxDQUFmO0FBQ0gsS0FGRDs7Ozs7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QVA7QUFDSCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvLyBSZWdleCB0byBleHRyYWN0IHRoZSB0YWcgbmFtZVxyXG5jb25zdCB0YWdOYW1lUmUgPSAvPChbXFx3LV0rKS87XHJcblxyXG4vLyBEZXRlcm1pbmUgaWYgYERPTVBhcnNlcmAgc3VwcG9ydHMgJ3RleHQvaHRtbCdcclxuY29uc3Qgc3VwcG9ydHNET01QYXJzZXJIVE1MID0gKCgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgaWYgKChuZXcgRE9NUGFyc2VyKCkpLnBhcnNlRnJvbVN0cmluZygnJywgJ3RleHQvaHRtbCcpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn0pKCk7XHJcblxyXG4vLyBQcmV2ZW50IHRoZSBwYXJzZXIgZnJvbSBpZ25vcmluZyBjZXJ0YWluXHJcbi8vIGVsZW1lbnRzIGJ5IHdyYXBwaW5nIHRoZW0gd2l0aCB0aGUgbmVjZXNzYXJ5XHJcbi8vIHBhcmVudCBlbGVtZW50cyB0byBhcHBlYXNlIFhIVE1MIGNvbXBsaWFuY2VcclxuLy8gKGNvdXJ0ZXN5IG9mIGpRdWVyeTogaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnkvYmxvYi9tYXN0ZXIvc3JjL21hbmlwdWxhdGlvbi93cmFwTWFwLmpzKVxyXG5jb25zdCB3cmFwTWFwID0ge1xyXG4gICAgdGhlYWQ6IFsxLCAnPHRhYmxlPicsICc8L3RhYmxlPiddLFxyXG4gICAgY29sOiBbMiwgJzx0YWJsZT48Y29sZ3JvdXA+JywgJzwvY29sZ3JvdXA+PC90YWJsZT4nXSxcclxuICAgIHRyOiBbMiwgJzx0YWJsZT48dGJvZHk+JywgJzwvdGJvZHk+PC90YWJsZT4nXSxcclxuICAgIHRkOiBbMywgJzx0YWJsZT48dGJvZHk+PHRyPicsICc8L3RyPjwvdGJvZHk+PC90YWJsZT4nXSxcclxuICAgIF9kZWZhdWx0OiBbMCwgJycsICcnXVxyXG59O1xyXG53cmFwTWFwLnRib2R5ID0gd3JhcE1hcC50Zm9vdCA9IHdyYXBNYXAuY29sZ3JvdXAgPSB3cmFwTWFwLmNhcHRpb24gPSB3cmFwTWFwLnRoZWFkO1xyXG53cmFwTWFwLnRoID0gd3JhcE1hcC50ZDtcclxuXHJcbi8vIFN1cHBvcnQgU1ZHIGVsZW1lbnRzXHJcbidjaXJjbGUgZWxsaXBzZSBnIGltYWdlIGxpbmUgcGF0aCBwb2x5Z29uIHBvbHlsaW5lIHJlY3QgdGV4dCcuc3BsaXQoJyAnKS5mb3JFYWNoKCh0YWcpID0+IHtcclxuICAgIHdyYXBNYXBbdGFnXSA9IFsxLCAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+JywgJzwvc3ZnPiddO1xyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBDb3B5IHRoZSBhdHRyaWJ1dGVzIGZyb20gb25lIG5vZGUgdG8gYW5vdGhlclxyXG4gKlxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0XHJcbiAqIEByZXR1cm4ge0VsZW1lbnR9XHJcbiAqIEBhcGkgcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gY29weUF0dHJpYnV0ZXMoZWwsIHRhcmdldCkge1xyXG4gICAgY29uc3QgYXR0cnMgPSB0YXJnZXQuYXR0cmlidXRlcztcclxuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBhdHRycy5sZW5ndGgsIGF0dHI7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIGF0dHIgPSBhdHRyc1tpXTtcclxuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoYXR0ci5uYW1lLCBhdHRyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBlbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBhIHNjcmlwdCBlbGVtZW50IHRoYXQgd2lsbCBleGVjdXRlXHJcbiAqXHJcbiAqIEBwYXJhbSB7RG9jdW1lbnR9IGRvY1xyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXHJcbiAqIEByZXR1cm4ge0VsZW1lbnR9XHJcbiAqIEBhcGkgcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gY29weVNjcmlwdChkb2MsIGVsKSB7XHJcbiAgICBjb25zdCBzY3JpcHQgPSBkb2MuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XHJcbiAgICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xyXG4gICAgc2NyaXB0LnRleHQgPSBlbC50ZXh0Q29udGVudDtcclxuICAgIHJldHVybiBjb3B5QXR0cmlidXRlcyhzY3JpcHQsIGVsKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFBhcnNlIEhUTUwgYW5kIFhNTCBkb2N1bWVudHNcclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IG1hcmt1cFxyXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxyXG4gKiBAcmV0dXJuIHtFbGVtZW50fVxyXG4gKiBAYXBpIHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlRG9jdW1lbnQobWFya3VwLCB0eXBlKSB7XHJcbiAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XHJcbiAgICBjb25zdCBuZXdEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKG1hcmt1cCwgdHlwZSk7XHJcbiAgICByZXR1cm4gbmV3RG9jLnJlbW92ZUNoaWxkKG5ld0RvYy5kb2N1bWVudEVsZW1lbnQpO1xyXG59XHJcblxyXG4vKipcclxuICogUGFyc2UgSFRNTCBzdHJpbmcgdXNpbmcgdGhlIHByb3BlciBwYXJlbnRcclxuICogZWxlbWVudFxyXG4gKlxyXG4gKiBAcGFyYW0ge0RvY3VtZW50fSBkb2NcclxuICogQHBhcmFtIHtTdHJpbmd9IHRhZ1xyXG4gKiBAcGFyYW0ge1N0cmluZ30gaHRtbFxyXG4gKiBAcmV0dXJuIHtFbGVtZW50fVxyXG4gKiBAYXBpIHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlSFRNTChkb2MsIHRhZywgaHRtbCkge1xyXG4gICAgY29uc3QgZWwgPSBkb2MuY3JlYXRlRWxlbWVudCh0YWcpO1xyXG4gICAgZWwuaW5uZXJIVE1MID0gaHRtbDtcclxuICAgIHJldHVybiBlbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFBhcnNlIGFuIEhNVEwgc3RyaW5nIGludG8gYSBET00gbm9kZVxyXG4gKlxyXG4gKiBAcGFyYW0ge0RvY3VtZW50fSBkb2NcclxuICogQHBhcmFtIHtTdHJpbmd9IHRhZ1xyXG4gKiBAcGFyYW0ge1N0cmluZ30gaHRtbFxyXG4gKiBAcmV0dXJuIHtFbGVtZW50fERvY3VtZW50RnJhZ21lbnR9XHJcbiAqIEBhcGkgcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2UoZG9jLCB0YWcsIGh0bWwpIHtcclxuICAgIC8vIFN1cHBvcnQgPGh0bWw+IGVsZW1lbnRzXHJcbiAgICBpZiAodGFnID09PSAnaHRtbCcpIHtcclxuICAgICAgICBpZiAoc3VwcG9ydHNET01QYXJzZXJIVE1MKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJzZURvY3VtZW50KGh0bWwsICd0ZXh0L2h0bWwnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQXR0cmlidXRlcyBvZiB0aGUgPGh0bWw+IGVsZW1lbnQgZG8gbm90IGdldFxyXG4gICAgICAgIC8vIHBhcnNlZCB1c2luZyBgaW5uZXJIVE1MYCBoZXJlLCBzbyB3ZSBwYXJzZSBpdFxyXG4gICAgICAgIC8vIGFzIFhNTCBhbmQgdGhlbiBjb3B5IHRoZSBhdHRyaWJ1dGVzXHJcbiAgICAgICAgY29uc3QgZWwgPSBwYXJzZUhUTUwoZG9jLCAnaHRtbCcsIGh0bWwpO1xyXG4gICAgICAgIGNvbnN0IHhtbCA9IHBhcnNlRG9jdW1lbnQoaHRtbCwgJ3RleHQveG1sJyk7XHJcbiAgICAgICAgcmV0dXJuIGNvcHlBdHRyaWJ1dGVzKGVsLCB4bWwpO1xyXG4gICAgfVxyXG4gICAgLy8gU3VwcG9ydCA8Ym9keT4gYW5kIDxoZWFkPiBlbGVtZW50c1xyXG4gICAgaWYgKHRhZyA9PT0gJ2hlYWQnIHx8IHRhZyA9PT0gJ2JvZHknKSB7XHJcbiAgICAgICAgY29uc3QgZWwgPSBwYXJzZUhUTUwoZG9jLCAnaHRtbCcsIGh0bWwpO1xyXG4gICAgICAgIHJldHVybiBlbC5yZW1vdmVDaGlsZCh0YWcgPT09ICdoZWFkJyA/IGVsLmZpcnN0Q2hpbGQgOiBlbC5sYXN0Q2hpbGQpO1xyXG4gICAgfVxyXG4gICAgLy8gV3JhcCB0aGUgZWxlbWVudCBpbiB0aGUgYXBwcm9wcmlhdGUgY29udGFpbmVyXHJcbiAgICBjb25zdCB3cmFwID0gd3JhcE1hcFt0YWddIHx8IHdyYXBNYXAuX2RlZmF1bHQ7XHJcbiAgICAvLyBQYXJzZSBIVE1MIHN0cmluZ1xyXG4gICAgbGV0IGVsID0gcGFyc2VIVE1MKGRvYywgJ2RpdicsIHdyYXBbMV0gKyBodG1sICsgd3JhcFsyXSk7XHJcbiAgICAvLyBEZXNjZW5kIHRocm91Z2ggd3JhcHBlcnMgdG8gZ2V0IHRoZSByaWdodCBlbGVtZW50XHJcbiAgICBsZXQgZGVwdGggPSB3cmFwWzBdO1xyXG4gICAgd2hpbGUgKGRlcHRoLS0pIHtcclxuICAgICAgICBlbCA9IGVsLmxhc3RDaGlsZDtcclxuICAgIH1cclxuICAgIC8vIFN1cHBvcnQgZXhlY3V0YWJsZSA8c2NyaXB0PiBlbGVtZW50c1xyXG4gICAgaWYgKHRhZyA9PT0gJ3NjcmlwdCcpIHtcclxuICAgICAgICByZXR1cm4gY29weVNjcmlwdChkb2MsIGVsLmZpcnN0Q2hpbGQpO1xyXG4gICAgfVxyXG4gICAgLy8gU2luZ2xlIGVsZW1lbnRcclxuICAgIGlmIChlbC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIHJldHVybiBlbC5yZW1vdmVDaGlsZChlbC5maXJzdENoaWxkKTtcclxuICAgIH1cclxuICAgIC8vIFVzZSBhIGRvY3VtZW50IGZyYWdtZW50IGZvciBtdWx0aXBsZSBlbGVtZW50c1xyXG4gICAgY29uc3QgZnJhZyA9IGRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcbiAgICB3aGlsZSAoZWwuZmlyc3RDaGlsZCkge1xyXG4gICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQoZWwuZmlyc3RDaGlsZCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnJhZztcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnZlcnQgYSBzdHJpbmcgaW50byBhIERPTSBub2RlXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBodG1sXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXHJcbiAqIEBwYXJhbSB7RG9jdW1lbnR9IG9wdGlvbnMuY29udGV4dFxyXG4gKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy50eXBlXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy5zY3JpcHRzXHJcbiAqIEByZXR1cm4ge0VsZW1lbnR8VGV4dE5vZGV8RG9jdW1lbnRGcmFnbWVudH1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRvbWluYXRlKGh0bWwsIHtjb250ZXh0ID0gZG9jdW1lbnQsIHR5cGUgPSAnaHRtbCcsIHNjcmlwdHMgPSB0cnVlfSA9IHt9KSB7XHJcbiAgICAvLyBSZXR1cm4gYW4gWE1MIGVsZW1lbnQgaWYgdGhlIHR5cGUgcGFyYW0gaXMgJ3htbCdcclxuICAgIGlmICh0eXBlLnRvTG93ZXJDYXNlKCkgPT09ICd4bWwnKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlRG9jdW1lbnQoaHRtbCwgJ3RleHQveG1sJyk7XHJcbiAgICB9XHJcbiAgICAvLyBQYXJzZSB0aGUgSFRNTCBzdHJpbmcgZm9yIGEgdGFnIG5hbWVcclxuICAgIGNvbnN0IG1hdGNoID0gdGFnTmFtZVJlLmV4ZWMoaHRtbCk7XHJcbiAgICAvLyBJZiBubyB0YWcgbmFtZSBleGlzdHMsIHRyZWF0IGl0IGFzIHBsYWluIHRleHRcclxuICAgIGlmICghbWF0Y2gpIHtcclxuICAgICAgICByZXR1cm4gY29udGV4dC5jcmVhdGVUZXh0Tm9kZShodG1sKTtcclxuICAgIH1cclxuICAgIC8vIEdldCB0aGUgdGFnIG5hbWVcclxuICAgIGNvbnN0IHRhZyA9IG1hdGNoWzFdLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAvLyBQYXJzZSB0aGUgSFRNTCBzdHJpbmcgaW50byBhIERPTSBub2RlXHJcbiAgICBjb25zdCBlbCA9IHBhcnNlKGNvbnRleHQsIHRhZywgaHRtbC50cmltKCkpO1xyXG4gICAgLy8gSWYgaXQncyBhIHNjcmlwdCBlbGVtZW50LCByZXR1cm4gaXQgYXMgaXRcclxuICAgIC8vIHNob3VsZCBhbHdheXMgZXhlY3V0ZSByZWdhcmRsZXNzIG9mIHRoZVxyXG4gICAgLy8gYGV4ZWNTY3JpcHRzYCBwYXJhbVxyXG4gICAgaWYgKHRhZyA9PT0gJ3NjcmlwdCcpIHtcclxuICAgICAgICByZXR1cm4gZWw7XHJcbiAgICB9XHJcbiAgICAvLyBJZiBgZXhlY1NjcmlwdHNgIGlzIHRydWUsIHJlcGxhY2UgYWxsIHNjcmlwdFxyXG4gICAgLy8gZWxlbWVudHMgd2l0aCBhIG5ldyBzY3JpcHQgZWxlbWVudCB0byBlbmFibGVcclxuICAgIC8vIGV4ZWN1dGlvbiwgb3RoZXJ3aXNlIHJlbW92ZSB0aGUgc2NyaXB0IGVsZW1lbnRzXHJcbiAgICBjb25zdCBlbGVtZW50cyA9IGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NjcmlwdCcpO1xyXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGVsZW1lbnRzLmxlbmd0aCwgc2NyaXB0LCBwYXJlbnQ7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIHNjcmlwdCA9IGVsZW1lbnRzW2ldO1xyXG4gICAgICAgIHBhcmVudCA9IHNjcmlwdC5wYXJlbnROb2RlO1xyXG4gICAgICAgIGlmIChzY3JpcHRzID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwYXJlbnQucmVwbGFjZUNoaWxkKGNvcHlTY3JpcHQoY29udGV4dCwgc2NyaXB0KSwgc2NyaXB0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZWw7XHJcbn1cclxuIl19\n"],"sourceRoot":"/source/"}